{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./toaster.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./item-service.service\";\nexport class SellerService {\n  constructor(http, toaster, router, itemSer) {\n    this.http = http;\n    this.toaster = toaster;\n    this.router = router;\n    this.itemSer = itemSer;\n    this.sellerActive = new EventEmitter();\n    this.localURL = \"http://localhost:8000/api\";\n  }\n  ngOnInit() {\n    let seller = localStorage.getItem(\"seller\");\n    let sellerID = seller && JSON.parse(seller).data.id;\n    if (sellerID) {\n      this.sellerActive.emit(true);\n    }\n  }\n  sellerSignup(data) {\n    return this.http.post(`${this.localURL}/sellerSignup`, data);\n  }\n  sellerLogin(data) {\n    this.http.post(`${this.localURL}/sellerLogin`, data, {\n      observe: 'response'\n    }).subscribe(result => {\n      if (!result.body.error) {\n        localStorage.setItem('seller', JSON.stringify(result.body));\n        this.toaster.LoginSuccess(result.body.success);\n        setTimeout(() => {\n          this.router.navigateByUrl(\"seller_dashboard\");\n        }, 2000);\n        let seller = localStorage.getItem(\"seller\");\n        let sellerID = seller && JSON.parse(seller).data.id;\n        if (sellerID) {\n          this.sellerActive.emit(true);\n        }\n        this.itemSer.ActiveUser.emit(true);\n      } else {\n        this.toaster.LoginFail(result.body.error);\n      }\n    });\n  }\n}\nSellerService.ɵfac = function SellerService_Factory(t) {\n  return new (t || SellerService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.ToasterService), i0.ɵɵinject(i3.Router), i0.ɵɵinject(i4.ItemServiceService));\n};\nSellerService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: SellerService,\n  factory: SellerService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAoB,eAAe;;;;;;AAQxD,OAAM,MAAOC,aAAa;EAGxBC,YAAoBC,IAAgB,EAAUC,OAAsB,EAAUC,MAAa,EAAUC,OAA0B;IAA3G,SAAI,GAAJH,IAAI;IAAsB,YAAO,GAAPC,OAAO;IAAyB,WAAM,GAANC,MAAM;IAAiB,YAAO,GAAPC,OAAO;IAF9G,iBAAY,GAAG,IAAIN,YAAY,EAAW;IACxC,aAAQ,GAAO,2BAA2B;EACyF;EAGnIO,QAAQ;IACN,IAAIC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC3C,IAAIC,QAAQ,GAAGH,MAAM,IAAII,IAAI,CAACC,KAAK,CAACL,MAAM,CAAC,CAACM,IAAI,CAACC,EAAE;IACnD,IAAGJ,QAAQ,EAAC;MACX,IAAI,CAACK,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC;;EAG/B;EAEAC,YAAY,CAACJ,IAAQ;IACvB,OAAO,IAAI,CAACX,IAAI,CAACgB,IAAI,CAAC,GAAG,IAAI,CAACC,QAAQ,eAAe,EAACN,IAAI,CAAC;EACzD;EAIAO,WAAW,CAACP,IAAS;IACnB,IAAI,CAACX,IAAI,CAACgB,IAAI,CAAC,GAAG,IAAI,CAACC,QAAQ,cAAc,EAAEN,IAAI,EAAE;MAAEQ,OAAO,EAAE;IAAU,CAAE,CAAC,CAACC,SAAS,CAAEC,MAAU,IAAI;MACrG,IAAI,CAACA,MAAM,CAACC,IAAI,CAACC,KAAK,EAAE;QACtBjB,YAAY,CAACkB,OAAO,CAAC,QAAQ,EAAEf,IAAI,CAACgB,SAAS,CAACJ,MAAM,CAACC,IAAI,CAAC,CAAC;QAC3D,IAAI,CAACrB,OAAO,CAACyB,YAAY,CAACL,MAAM,CAACC,IAAI,CAACK,OAAO,CAAC;QAC9CC,UAAU,CAAC,MAAI;UACb,IAAI,CAAC1B,MAAM,CAAC2B,aAAa,CAAC,kBAAkB,CAAC;QAC/C,CAAC,EAAC,IAAI,CAAC;QACP,IAAIxB,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;QAC3C,IAAIC,QAAQ,GAAGH,MAAM,IAAII,IAAI,CAACC,KAAK,CAACL,MAAM,CAAC,CAACM,IAAI,CAACC,EAAE;QACnD,IAAGJ,QAAQ,EAAC;UACX,IAAI,CAACK,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC;;QAEjC,IAAI,CAACX,OAAO,CAAC2B,UAAU,CAAChB,IAAI,CAAC,IAAI,CAAC;OAG/B,MAAI;QACH,IAAI,CAACb,OAAO,CAAC8B,SAAS,CAACV,MAAM,CAACC,IAAI,CAACC,KAAK,CAAC;;IAE7C,CAAC,CAAC;EACJ;;AAzCWzB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAAkC,SAAblC,aAAa;EAAAmC,YAFZ;AAAM","names":["EventEmitter","SellerService","constructor","http","toaster","router","itemSer","ngOnInit","seller","localStorage","getItem","sellerID","JSON","parse","data","id","sellerActive","emit","sellerSignup","post","localURL","sellerLogin","observe","subscribe","result","body","error","setItem","stringify","LoginSuccess","success","setTimeout","navigateByUrl","ActiveUser","LoginFail","factory","providedIn"],"sourceRoot":"","sources":["E:\\AngularWithLaravelAPI\\AngularFrontEnd\\src\\app\\services\\seller.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { EventEmitter, Injectable } from '@angular/core';\nimport { ToasterService } from './toaster.service';\nimport { Route, Router } from '@angular/router';\nimport { ItemServiceService } from './item-service.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SellerService {\nsellerActive = new EventEmitter<boolean>();\n  localURL:any = \"http://localhost:8000/api\";\n  constructor(private http: HttpClient, private toaster:ToasterService, private router:Router, private itemSer:ItemServiceService) { }\n\n\n  ngOnInit(): void {\n    let seller = localStorage.getItem(\"seller\")\n    let sellerID = seller && JSON.parse(seller).data.id;\n    if(sellerID){\n     this.sellerActive.emit(true);\n    }\n\n  }\n\n  sellerSignup(data:any){\nreturn this.http.post(`${this.localURL}/sellerSignup`,data)\n  }\n\n\n\n  sellerLogin(data: any) {\n    this.http.post(`${this.localURL}/sellerLogin`, data, { observe: 'response' }).subscribe((result:any) => {\n      if (!result.body.error) {\n        localStorage.setItem('seller', JSON.stringify(result.body));\n        this.toaster.LoginSuccess(result.body.success);\n        setTimeout(()=>{\n          this.router.navigateByUrl(\"seller_dashboard\");\n        },2000);\n        let seller = localStorage.getItem(\"seller\")\n        let sellerID = seller && JSON.parse(seller).data.id;\n        if(sellerID){\n         this.sellerActive.emit(true);\n        }\n    this.itemSer.ActiveUser.emit(true);\n\n\n      }else{\n        this.toaster.LoginFail(result.body.error);\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}